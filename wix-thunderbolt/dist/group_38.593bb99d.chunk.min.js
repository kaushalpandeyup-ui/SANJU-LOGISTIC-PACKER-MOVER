"use strict";(self.webpackJsonp__wix_thunderbolt_app=self.webpackJsonp__wix_thunderbolt_app||[]).push([[2694],{60563:(e,t,a)=>{a.r(t),a.d(t,{DynamicPagesResponseHandlerSymbol:()=>u.nk,site:()=>C});var r=a(77748),n=a(71085),s=a(20590),o=a(32166),i=a(32777),c=a(75396),l=a(10553),u=a(10984);const p="_403_dp",d="_404_dp",g="_500_dp",h="_uknown_error_dp",m=e=>e.replace("./","").split("/"),U=e=>/(^https?)|(^data)|(^blob)|(^\/\/)/.test(e),f=(e,t)=>/^\/(.*)/.test(e)?`.${e}`:`./${t}/${e}`,_=e=>`/${m(e).slice(1).join("/")}`,w=e=>m(e)[0];var P=a(78691),y=a(79460),I=a(51360);const v=(0,r.Og)([(0,r.KT)(s.YG,u.UU),o.RV,i.F,n.$1,u.nk,u.u_,c.t7,P._w,y.q,l.n,o.Ht],({prefixToRouterFetchData:e,routerPagesSeoToIdMap:t},a,r,n,{handleResponse:s},o,i,c,{getFetchParams:l,tryToGetCachableFetchParams:p},g,h)=>({getSitemapFetchParams(t){const a=e[t];if(!a)return null;const r=n.getRelativeEncodedUrl(),s=n.getParsedUrl().search,o=_(r);return l(I.U.SITEMAP,a,{routerSuffix:o,queryParams:s})},async handle(a,n){if(!a.pageId&&a.relativeUrl&&a.parsedUrl&&a.relativeEncodedUrl){const l=w(a.relativeUrl),m=e[l];if(!m)return t[l]?{...a,pageId:d}:a;const U=await(()=>{const e=i.getCurrentRouteInfo();return!g["specs.thunderbolt.dynamicPagesWarmupData2"]||e?null:c.getWarmupData(u.UU,{timeout:0})})();if(U)return{...a,...U};h.interactionStarted("custom_router_fetch_route_info");const f=_(a.relativeEncodedUrl),P=a.parsedUrl.search,{url:y,options:v}=await p(I.U.PAGES,m,{routerSuffix:f,queryParams:P,dynamicPageIdOverride:n}),b=s(r.envFetch(y,v),a);return o.getHandler().handle(b,a).then(e=>(h.interactionEnded("custom_router_fetch_route_info"),e))}return a}}));var b=a(16537),S=a(94715),R=a(12457),D=a(82658);const T=(0,r.Og)([(0,r.KT)(s.YG,u.UU),o.RV,S.wN,R.Tf,l.n,o.UK],({externalBaseUrl:e},t,a,r,n,s)=>({async handleResponse(a,n){const o=w(n.relativeUrl);return a.then(async a=>{if(!a.ok)throw a;const i=await a.json(),{result:c,exception:l}=i,{redirectUrl:u,status:m}=c;if(m&&(0,D.fU)(t)&&r.setStatusCode(m),u){if((0,D.fU)(t)){const t=((e,t,a,r)=>{if(U(e))return e;const n=f(e,a),s=new URL(n,`${t}/`);return s.search=r,s.toString()})(u,e,o,n.parsedUrl.search);return r.setRedirectUrl(t),null}if(await s,t.document.head.querySelector('meta[http-equiv="refresh"]'))return null;if(U(u))return t.location.assign(u),null;return{redirectUrl:f(u,o)}}const _=(({status:e,page:t,redirectUrl:a},r)=>r?g:403===e?p:404===e?d:t||a?null:h)(c,l);return _?{...n,pageId:_}:((e,t)=>{const{page:a,data:r,head:n,tpaInnerRoute:s,publicData:o}=t.result;return{...e,pageId:a,dynamicRouteData:{pageData:r,pageHeadData:n,publicData:o,tpaInnerRoute:s}}})(n,i)}).catch(()=>(0,D.fU)(t)?null:{...n,pageId:g})}}));var M=a(19889),k=a(66397);const E=(0,r.Og)([(0,r.KT)(s.wk,u.UU),n.Ix,c.t7,(0,r.lq)(M.Np)],(e,t,a,r)=>{const n=async(e,n)=>{const{success:s,reason:o}=await(async()=>{try{return await r.promptLogin(),{success:!0,reason:""}}catch(e){return{success:!1,reason:e}}})();return o===k.qd.CANCELED&&a.isLandingOnProtectedPage()?t.navigate("./"):!!s&&t.navigate(n.parsedUrl.href)};return e.update(()=>({handlePermissions:n,isMemberLoggedIn:async()=>!!await(r?.getMemberDetails()),isSiteMembersInstalled:!!r})),{appWillMount:async()=>{}}}),x=(0,r.Og)([(0,r.KT)(s.wk,u.UU)],e=>({getHandler:()=>({handle:async(t,a)=>{const r=await t,{handlePermissions:n,isMemberLoggedIn:s,isSiteMembersInstalled:o}=e.get(),i=await s();return o&&r?.pageId===p&&!i?(n(r,a).catch(e=>{console.error("Error handling permissions",e)}),null):r}})})),C=e=>{e(n.po.Dynamic,s.SV).to(v),e(u.nk).to(T),e(u.P3,b.$.AppWillMountHandler).to(E),e(u.u_).to(x)}},26513:(e,t,a)=>{a.r(t),a.d(t,{page:()=>l});var r=a(16537),n=a(20590),s=a(87711);var o=a(77748),i=a(14625);const c=(0,o.Og)([(0,o.KT)(n.Gp,i.U),s.eZ,s.Ji],(e,t,a)=>({name:"sosp",pageWillMount(r){((e,t,a,r)=>{const{sospCompId:n,sospParentId:s,position:o,pagesToShowSosp:i}=t,c=a.get(s);c&&(i[e]?(c.components.includes(n)||a.addComponentToParent(s,n,o),r.update({[s]:{className:"page-with-sosp"}})):(c.components.includes(n)&&a.removeComponentFromParent(s,n),r.update({[s]:{className:"page-without-sosp"}})))})(r,e,t,a)}})),l=e=>{e(r.$.PageWillMountHandler).to(c)}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/group_38.593bb99d.chunk.min.js.map